import{_ as r,C as k,c as d,o as a,a0 as t,b as e,w as i,a as l,G as h,a2 as p}from"./chunks/framework.DXI-tbPr.js";const b=JSON.parse('{"title":"Git Branch 分支管理规范指南","description":"统一的 Git 分支命名和管理规范，包括分支类型、命名规则、分支策略（Git Flow、GitHub Flow）、功能分支管理、代码审查流程等，提升团队协作效率和代码质量。","frontmatter":{"title":"Git Branch 分支管理规范指南","description":"统一的 Git 分支命名和管理规范，包括分支类型、命名规则、分支策略（Git Flow、GitHub Flow）、功能分支管理、代码审查流程等，提升团队协作效率和代码质量。","date":"2025-12-01T15:43:56.000Z","tags":["Git","版本控制","工程化","规范","协作","分支管理"]},"headers":[],"relativePath":"posts/Git Branch 分支管理规范指南.md","filePath":"posts/Git Branch 分支管理规范指南.md","lastUpdated":1764582741000}'),o={name:"posts/Git Branch 分支管理规范指南.md"};function g(c,s,F,u,y,C){const n=k("Mermaid");return a(),d("div",null,[s[4]||(s[4]=t(`<blockquote><p>统一的 Git 分支命名和管理规范，包括分支类型、命名规则、分支策略、功能分支管理、代码审查流程等，提升团队协作效率和代码质量。</p></blockquote><h2 id="快速参考" tabindex="-1">快速参考 <a class="header-anchor" href="#快速参考" aria-label="Permalink to &quot;快速参考&quot;">​</a></h2><h3 id="分支类型速查" tabindex="-1">分支类型速查 <a class="header-anchor" href="#分支类型速查" aria-label="Permalink to &quot;分支类型速查&quot;">​</a></h3><table tabindex="0"><thead><tr><th>类型</th><th>命名格式</th><th>用途</th><th>从哪个分支创建</th><th>合并到哪个分支</th></tr></thead><tbody><tr><td><code>feature</code></td><td><code>feature/&lt;描述&gt;</code></td><td>开发新功能</td><td><code>develop</code> 或 <code>main</code></td><td><code>develop</code> 或 <code>main</code></td></tr><tr><td><code>bugfix</code></td><td><code>bugfix/&lt;描述&gt;</code></td><td>修复 bug</td><td><code>develop</code> 或 <code>main</code></td><td><code>develop</code> 或 <code>main</code></td></tr><tr><td><code>hotfix</code></td><td><code>hotfix/&lt;描述&gt;</code></td><td>紧急修复生产 bug</td><td><code>main</code></td><td><code>main</code> 和 <code>develop</code></td></tr><tr><td><code>release</code></td><td><code>release/&lt;版本号&gt;</code></td><td>准备版本发布</td><td><code>develop</code></td><td><code>main</code> 和 <code>develop</code></td></tr><tr><td><code>refactor</code></td><td><code>refactor/&lt;描述&gt;</code></td><td>代码重构</td><td><code>develop</code></td><td><code>develop</code></td></tr><tr><td><code>docs</code></td><td><code>docs/&lt;描述&gt;</code></td><td>文档更新</td><td><code>develop</code></td><td><code>develop</code></td></tr><tr><td><code>chore</code></td><td><code>chore/&lt;描述&gt;</code></td><td>构建、配置变更</td><td><code>develop</code></td><td><code>develop</code></td></tr></tbody></table><h3 id="命名规范" tabindex="-1">命名规范 <a class="header-anchor" href="#命名规范" aria-label="Permalink to &quot;命名规范&quot;">​</a></h3><ul><li><strong>格式</strong>：<code>&lt;类型&gt;/&lt;描述&gt;</code>，使用 kebab-case（小写字母和连字符）</li><li><strong>描述</strong>：清晰描述功能或问题，避免模糊命名</li><li><strong>可选</strong>：可包含 issue 编号，如 <code>feature/123-user-login</code></li></ul><h3 id="分支策略选择" tabindex="-1">分支策略选择 <a class="header-anchor" href="#分支策略选择" aria-label="Permalink to &quot;分支策略选择&quot;">​</a></h3><table tabindex="0"><thead><tr><th>策略</th><th>适用场景</th><th>团队规模</th><th>发布周期</th></tr></thead><tbody><tr><td><strong>GitHub Flow</strong></td><td>持续部署、快速迭代</td><td>1-5 人</td><td>频繁（每天/每周）</td></tr><tr><td><strong>Git Flow</strong></td><td>有明确发布周期</td><td>5+ 人</td><td>定期（每月/每季度）</td></tr><tr><td><strong>GitLab Flow</strong></td><td>多环境管理</td><td>5+ 人</td><td>定期</td></tr></tbody></table><h3 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-label="Permalink to &quot;常用命令&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建功能分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 同步主分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rebase</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin/develop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除本地分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除远程分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span></code></pre></div><h2 id="一、为什么需要分支管理规范" tabindex="-1">一、为什么需要分支管理规范 <a class="header-anchor" href="#一、为什么需要分支管理规范" aria-label="Permalink to &quot;一、为什么需要分支管理规范&quot;">​</a></h2><p>不规范的分支命名和管理会导致：</p><ul><li><strong>识别困难</strong>：无法快速判断分支用途（如 <code>fix</code>、<code>new-feature</code>、<code>临时分支</code>）</li><li><strong>管理混乱</strong>：分支数量多时难以追踪和维护</li><li><strong>协作低效</strong>：合并冲突频繁，代码审查困难</li><li><strong>追溯困难</strong>：无法关联 issue 或需求</li></ul><p>统一的分支管理规范能够：</p><ul><li>快速识别分支用途和状态</li><li>减少合并冲突和沟通成本</li><li>支持自动化流程（CI/CD、代码审查）</li><li>便于问题追踪和版本管理</li></ul><h2 id="二、分支类型和命名规范" tabindex="-1">二、分支类型和命名规范 <a class="header-anchor" href="#二、分支类型和命名规范" aria-label="Permalink to &quot;二、分支类型和命名规范&quot;">​</a></h2><h3 id="_2-1-主要分支" tabindex="-1">2.1 主要分支 <a class="header-anchor" href="#_2-1-主要分支" aria-label="Permalink to &quot;2.1 主要分支&quot;">​</a></h3><h4 id="main-master-主分支" tabindex="-1">main/master（主分支） <a class="header-anchor" href="#main-master-主分支" aria-label="Permalink to &quot;main/master（主分支）&quot;">​</a></h4><p><strong>用途</strong>：生产环境代码，始终保持可发布状态</p><p><strong>命名</strong>：</p><ul><li>新项目推荐使用 <code>main</code></li><li>旧项目可能使用 <code>master</code></li></ul><p><strong>特点</strong>：</p><ul><li>受保护分支，禁止直接推送</li><li>只能通过 Pull Request 合并</li><li>每次合并必须经过代码审查</li><li>始终保持稳定和可发布状态</li></ul><h4 id="develop-开发分支" tabindex="-1">develop（开发分支） <a class="header-anchor" href="#develop-开发分支" aria-label="Permalink to &quot;develop（开发分支）&quot;">​</a></h4><p><strong>用途</strong>：开发环境代码，集成所有功能开发</p><p><strong>命名</strong>：<code>develop</code></p><p><strong>特点</strong>：</p><ul><li>从 <code>main</code> 分支创建</li><li>所有功能分支从 <code>develop</code> 创建</li><li>功能开发完成后合并回 <code>develop</code></li><li>用于集成测试和开发环境部署</li></ul><h3 id="_2-2-功能分支" tabindex="-1">2.2 功能分支 <a class="header-anchor" href="#_2-2-功能分支" aria-label="Permalink to &quot;2.2 功能分支&quot;">​</a></h3><h4 id="feature-功能分支" tabindex="-1">feature（功能分支） <a class="header-anchor" href="#feature-功能分支" aria-label="Permalink to &quot;feature（功能分支）&quot;">​</a></h4><p><strong>用途</strong>：开发新功能</p><p><strong>命名格式</strong>：<code>feature/&lt;功能描述&gt;</code> 或 <code>feature/&lt;issue编号&gt;-&lt;功能描述&gt;</code></p><p><strong>示例</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">feature/user-login</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">feature/123-user-profile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">feature/payment-integration</span></span></code></pre></div><p><strong>特点</strong>：</p><ul><li>从 <code>develop</code> 分支创建（Git Flow）或从 <code>main</code> 创建（GitHub Flow）</li><li>开发完成后合并回对应分支</li><li>功能完成后可以删除</li></ul><p><strong>命名规范</strong>：</p><ul><li>使用小写字母和连字符（kebab-case）</li><li>使用英文或拼音，避免中文</li><li>包含功能描述，避免使用 <code>feature/new</code> 这样的模糊命名</li><li>可以包含 issue 编号便于追踪</li></ul><h4 id="bugfix-修复分支" tabindex="-1">bugfix（修复分支） <a class="header-anchor" href="#bugfix-修复分支" aria-label="Permalink to &quot;bugfix（修复分支）&quot;">​</a></h4><p><strong>用途</strong>：修复 bug</p><p><strong>命名格式</strong>：<code>bugfix/&lt;bug描述&gt;</code> 或 <code>bugfix/&lt;issue编号&gt;-&lt;bug描述&gt;</code></p><p><strong>示例</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bugfix/login-error</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bugfix/456-pagination-bug</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bugfix/api-timeout</span></span></code></pre></div><p><strong>特点</strong>：</p><ul><li>从 <code>develop</code> 分支创建（修复开发中的 bug）</li><li>或从 <code>main</code> 分支创建（修复生产环境的 bug）</li><li>修复完成后合并回对应分支</li><li>修复完成后可以删除</li></ul><h4 id="hotfix-热修复分支" tabindex="-1">hotfix（热修复分支） <a class="header-anchor" href="#hotfix-热修复分支" aria-label="Permalink to &quot;hotfix（热修复分支）&quot;">​</a></h4><p><strong>用途</strong>：紧急修复生产环境的 bug</p><p><strong>命名格式</strong>：<code>hotfix/&lt;bug描述&gt;</code> 或 <code>hotfix/&lt;issue编号&gt;-&lt;bug描述&gt;</code></p><p><strong>示例</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hotfix/security-patch</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hotfix/789-critical-bug</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hotfix/database-connection</span></span></code></pre></div><p><strong>特点</strong>：</p><ul><li>从 <code>main</code> 分支创建</li><li>修复完成后同时合并到 <code>main</code> 和 <code>develop</code></li><li>用于紧急修复，需要快速处理</li><li>修复完成后可以删除</li></ul><h4 id="release-发布分支" tabindex="-1">release（发布分支） <a class="header-anchor" href="#release-发布分支" aria-label="Permalink to &quot;release（发布分支）&quot;">​</a></h4><p><strong>用途</strong>：准备新版本发布</p><p><strong>命名格式</strong>：<code>release/&lt;版本号&gt;</code> 或 <code>release/v&lt;版本号&gt;</code></p><p><strong>示例</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">release/1.0.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">release/v2.1.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">release/2024.12.01</span></span></code></pre></div><p><strong>特点</strong>：</p><ul><li>从 <code>develop</code> 分支创建</li><li>用于版本发布前的最后准备</li><li>只修复 bug，不添加新功能</li><li>发布完成后合并到 <code>main</code> 和 <code>develop</code>，然后删除</li></ul><h3 id="_2-3-其他分支类型" tabindex="-1">2.3 其他分支类型 <a class="header-anchor" href="#_2-3-其他分支类型" aria-label="Permalink to &quot;2.3 其他分支类型&quot;">​</a></h3><h4 id="refactor-重构分支" tabindex="-1">refactor（重构分支） <a class="header-anchor" href="#refactor-重构分支" aria-label="Permalink to &quot;refactor（重构分支）&quot;">​</a></h4><p><strong>用途</strong>：代码重构</p><p><strong>命名格式</strong>：<code>refactor/&lt;重构描述&gt;</code></p><p><strong>示例</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">refactor/user-service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">refactor/api-structure</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">refactor/database-schema</span></span></code></pre></div><h4 id="docs-文档分支" tabindex="-1">docs（文档分支） <a class="header-anchor" href="#docs-文档分支" aria-label="Permalink to &quot;docs（文档分支）&quot;">​</a></h4><p><strong>用途</strong>：文档更新</p><p><strong>命名格式</strong>：<code>docs/&lt;文档描述&gt;</code></p><p><strong>示例</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docs/api-documentation</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docs/readme-update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docs/contributing-guide</span></span></code></pre></div><h4 id="chore-杂项分支" tabindex="-1">chore（杂项分支） <a class="header-anchor" href="#chore-杂项分支" aria-label="Permalink to &quot;chore（杂项分支）&quot;">​</a></h4><p><strong>用途</strong>：构建、配置等杂项变更</p><p><strong>命名格式</strong>：<code>chore/&lt;描述&gt;</code></p><p><strong>示例</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chore/docker-config</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chore/ci-update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chore/dependencies-update</span></span></code></pre></div><h2 id="三、分支策略" tabindex="-1">三、分支策略 <a class="header-anchor" href="#三、分支策略" aria-label="Permalink to &quot;三、分支策略&quot;">​</a></h2><h3 id="_3-1-如何选择分支策略" tabindex="-1">3.1 如何选择分支策略 <a class="header-anchor" href="#_3-1-如何选择分支策略" aria-label="Permalink to &quot;3.1 如何选择分支策略&quot;">​</a></h3><p>选择分支策略时，考虑以下因素：</p><table tabindex="0"><thead><tr><th>因素</th><th>GitHub Flow</th><th>Git Flow</th><th>GitLab Flow</th></tr></thead><tbody><tr><td><strong>团队规模</strong></td><td>1-5 人</td><td>5+ 人</td><td>5+ 人</td></tr><tr><td><strong>发布频率</strong></td><td>每天/每周</td><td>每月/每季度</td><td>每月/每季度</td></tr><tr><td><strong>环境数量</strong></td><td>1-2 个</td><td>2-3 个</td><td>3+ 个</td></tr><tr><td><strong>发布周期</strong></td><td>无固定周期</td><td>有固定周期</td><td>有固定周期</td></tr><tr><td><strong>版本维护</strong></td><td>不需要</td><td>需要</td><td>需要</td></tr><tr><td><strong>复杂度</strong></td><td>低</td><td>中</td><td>高</td></tr></tbody></table><p><strong>决策指南</strong>：</p><ul><li><strong>小型项目/持续部署</strong>：选择 GitHub Flow</li><li><strong>中大型项目/定期发布</strong>：选择 Git Flow</li><li><strong>多环境管理/严格流程</strong>：选择 GitLab Flow</li></ul><h3 id="_3-2-github-flow" tabindex="-1">3.2 GitHub Flow <a class="header-anchor" href="#_3-2-github-flow" aria-label="Permalink to &quot;3.2 GitHub Flow&quot;">​</a></h3><p><strong>适用场景</strong>：持续部署、小型团队、快速迭代</p><p><strong>分支结构和工作流程</strong>：</p>`,84)),(a(),e(p,null,{default:i(()=>[h(n,{id:"mermaid-740",class:"mermaid",graph:"gitGraph%0A%20%20%20%20commit%20id%3A%20%22main%3A%20%E5%88%9D%E5%A7%8B%E4%BB%A3%E7%A0%81%22%0A%20%20%20%20branch%20feature%2Fuser-login%0A%20%20%20%20checkout%20feature%2Fuser-login%0A%20%20%20%20commit%20id%3A%20%22feature%3A%20%E5%BC%80%E5%8F%91%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD%22%0A%20%20%20%20commit%20id%3A%20%22feature%3A%20%E6%B7%BB%E5%8A%A0%E6%B5%8B%E8%AF%95%22%0A%20%20%20%20checkout%20main%0A%20%20%20%20merge%20feature%2Fuser-login%0A%20%20%20%20commit%20id%3A%20%22main%3A%20%E9%83%A8%E7%BD%B2%E5%88%B0%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%22%0A%20%20%20%20branch%20feature%2Fpayment%0A%20%20%20%20checkout%20feature%2Fpayment%0A%20%20%20%20commit%20id%3A%20%22feature%3A%20%E5%BC%80%E5%8F%91%E6%94%AF%E4%BB%98%E5%8A%9F%E8%83%BD%22%0A%20%20%20%20commit%20id%3A%20%22feature%3A%20%E5%AE%8C%E5%96%84%E6%94%AF%E4%BB%98%E5%8A%9F%E8%83%BD%22%0A%20%20%20%20checkout%20main%0A%20%20%20%20merge%20feature%2Fpayment%0A%20%20%20%20commit%20id%3A%20%22main%3A%20%E9%83%A8%E7%BD%B2%E5%88%B0%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%22%0A"})]),fallback:i(()=>[...s[0]||(s[0]=[l(" Loading... ",-1)])]),_:1})),s[5]||(s[5]=t(`<p><strong>工作流程</strong>：</p><ol><li><p><strong>创建功能分支</strong>：从 <code>main</code> 创建</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span></code></pre></div></li><li><p><strong>开发功能</strong>：在功能分支上提交代码</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feat(user): 添加用户登录功能&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span></code></pre></div></li><li><p><strong>创建 Pull Request</strong>：合并到 <code>main</code></p><ul><li>代码审查通过后合并</li><li>合并后自动部署到生产环境</li></ul></li></ol><p><strong>特点</strong>：</p><ul><li>简单直接，只有 <code>main</code> 和功能分支</li><li>合并到 <code>main</code> 即部署</li><li>适合持续部署和快速迭代</li></ul><h3 id="_3-3-git-flow" tabindex="-1">3.3 Git Flow <a class="header-anchor" href="#_3-3-git-flow" aria-label="Permalink to &quot;3.3 Git Flow&quot;">​</a></h3><p><strong>适用场景</strong>：中大型项目、有明确发布周期、需要版本维护</p><p><strong>分支结构和工作流程</strong>：</p>`,7)),(a(),e(p,null,{default:i(()=>[h(n,{id:"mermaid-804",class:"mermaid",graph:"gitGraph%0A%20%20%20%20commit%20id%3A%20%22main%3A%20%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%BB%A3%E7%A0%81%22%0A%20%20%20%20branch%20develop%0A%20%20%20%20checkout%20develop%0A%20%20%20%20commit%20id%3A%20%22develop%3A%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%9B%86%E6%88%90%22%0A%20%20%20%20branch%20feature%2Fuser-login%0A%20%20%20%20checkout%20feature%2Fuser-login%0A%20%20%20%20commit%20id%3A%20%22feature%3A%20%E5%BC%80%E5%8F%91%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD%22%0A%20%20%20%20commit%20id%3A%20%22feature%3A%20%E5%AE%8C%E5%96%84%E5%8A%9F%E8%83%BD%22%0A%20%20%20%20checkout%20develop%0A%20%20%20%20merge%20feature%2Fuser-login%0A%20%20%20%20commit%20id%3A%20%22develop%3A%20%E9%9B%86%E6%88%90%E6%B5%8B%E8%AF%95%E9%80%9A%E8%BF%87%22%0A%20%20%20%20branch%20release%2F1.0.0%0A%20%20%20%20checkout%20release%2F1.0.0%0A%20%20%20%20commit%20id%3A%20%22release%3A%20%E4%BF%AE%E5%A4%8D%E5%8F%91%E5%B8%83%E5%89%8Dbug%22%0A%20%20%20%20commit%20id%3A%20%22release%3A%20%E6%9B%B4%E6%96%B0%E7%89%88%E6%9C%AC%E5%8F%B7%22%0A%20%20%20%20checkout%20main%0A%20%20%20%20merge%20release%2F1.0.0%0A%20%20%20%20commit%20id%3A%20%22main%3A%20%E5%8F%91%E5%B8%83%20v1.0.0%22%0A%20%20%20%20checkout%20develop%0A%20%20%20%20merge%20release%2F1.0.0%0A%20%20%20%20commit%20id%3A%20%22develop%3A%20%E5%90%8C%E6%AD%A5%E5%8F%91%E5%B8%83%E5%86%85%E5%AE%B9%22%0A%20%20%20%20branch%20hotfix%2Fsecurity-patch%0A%20%20%20%20checkout%20hotfix%2Fsecurity-patch%0A%20%20%20%20commit%20id%3A%20%22hotfix%3A%20%E4%BF%AE%E5%A4%8D%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E%22%0A%20%20%20%20checkout%20main%0A%20%20%20%20merge%20hotfix%2Fsecurity-patch%0A%20%20%20%20commit%20id%3A%20%22main%3A%20%E5%8F%91%E5%B8%83%20v1.0.1%22%0A%20%20%20%20checkout%20develop%0A%20%20%20%20merge%20hotfix%2Fsecurity-patch%0A%20%20%20%20commit%20id%3A%20%22develop%3A%20%E5%90%8C%E6%AD%A5%E7%83%AD%E4%BF%AE%E5%A4%8D%22%0A"})]),fallback:i(()=>[...s[1]||(s[1]=[l(" Loading... ",-1)])]),_:1})),s[6]||(s[6]=t(`<p><strong>工作流程</strong>：</p><p><strong>1. 功能开发流程</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 从 develop 创建功能分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 开发完成后合并到 develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span></code></pre></div><p><strong>2. 发布流程</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 从 develop 创建发布分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> release/1.0.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 在 release 分支上只修复 bug，不添加新功能</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修复完成后合并到 main 和 develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> release/1.0.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tag</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v1.0.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> release/1.0.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除发布分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> release/1.0.0</span></span></code></pre></div><p><strong>3. 热修复流程</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 从 main 创建热修复分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hotfix/security-patch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修复后同时合并到 main 和 develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hotfix/security-patch</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tag</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v1.0.1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hotfix/security-patch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除热修复分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hotfix/security-patch</span></span></code></pre></div><p><strong>特点</strong>：</p><ul><li>有 <code>develop</code> 分支用于集成开发</li><li>有 <code>release</code> 分支用于版本发布</li><li>有 <code>hotfix</code> 分支用于紧急修复</li><li>适合有明确发布周期的项目</li></ul><h3 id="_3-4-gitlab-flow" tabindex="-1">3.4 GitLab Flow <a class="header-anchor" href="#_3-4-gitlab-flow" aria-label="Permalink to &quot;3.4 GitLab Flow&quot;">​</a></h3><p><strong>适用场景</strong>：需要多环境管理、有严格发布流程</p><p><strong>分支结构和工作流程</strong>：</p>`,12)),(a(),e(p,null,{default:i(()=>[h(n,{id:"mermaid-854",class:"mermaid",graph:"gitGraph%0A%20%20%20%20commit%20id%3A%20%22main%3A%20%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E5%88%9D%E5%A7%8B%E4%BB%A3%E7%A0%81%22%0A%20%20%20%20branch%20develop%0A%20%20%20%20checkout%20develop%0A%20%20%20%20commit%20id%3A%20%22develop%3A%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%BB%A3%E7%A0%81%22%0A%20%20%20%20branch%20staging%0A%20%20%20%20checkout%20staging%0A%20%20%20%20commit%20id%3A%20%22staging%3A%20%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E4%BB%A3%E7%A0%81%22%0A%20%20%20%20branch%20pre-production%0A%20%20%20%20checkout%20pre-production%0A%20%20%20%20commit%20id%3A%20%22pre-production%3A%20%E9%A2%84%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%BB%A3%E7%A0%81%22%0A%20%20%20%20checkout%20develop%0A%20%20%20%20branch%20feature%2Fuser-login%0A%20%20%20%20checkout%20feature%2Fuser-login%0A%20%20%20%20commit%20id%3A%20%22feature%3A%20%E5%BC%80%E5%8F%91%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD%22%0A%20%20%20%20commit%20id%3A%20%22feature%3A%20%E5%AE%8C%E5%96%84%E5%8A%9F%E8%83%BD%22%0A%20%20%20%20checkout%20develop%0A%20%20%20%20merge%20feature%2Fuser-login%0A%20%20%20%20commit%20id%3A%20%22develop%3A%20%E7%BB%A7%E7%BB%AD%E5%BC%80%E5%8F%91%22%0A%20%20%20%20checkout%20staging%0A%20%20%20%20merge%20develop%0A%20%20%20%20commit%20id%3A%20%22staging%3A%20%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%9B%B4%E6%96%B0%22%0A%20%20%20%20checkout%20pre-production%0A%20%20%20%20merge%20staging%0A%20%20%20%20commit%20id%3A%20%22pre-production%3A%20%E9%A2%84%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E6%9B%B4%E6%96%B0%22%0A%20%20%20%20checkout%20main%0A%20%20%20%20merge%20pre-production%0A%20%20%20%20commit%20id%3A%20%22main%3A%20%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E6%9B%B4%E6%96%B0%22%0A"})]),fallback:i(()=>[...s[2]||(s[2]=[l(" Loading... ",-1)])]),_:1})),s[7]||(s[7]=t(`<p><strong>工作流程</strong>：</p><p><strong>1. 功能开发</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 从 develop 创建功能分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 开发完成后合并回 develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span></code></pre></div><p><strong>2. 环境推进</strong>：代码通过合并操作在不同环境分支间推进</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># develop → staging（测试环境）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> staging</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># staging → pre-production（预生产环境）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pre-production</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> staging</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># pre-production → production（生产环境）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> production</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pre-production</span></span></code></pre></div><p><strong>特点</strong>：</p><ul><li>每个环境有独立分支，便于回滚和问题追踪</li><li>代码必须按顺序推进，不能跨环境合并</li><li>适合需要严格环境隔离和发布流程的项目</li></ul><p><strong>特点</strong>：</p><ul><li>通过环境分支管理不同环境</li><li>代码通过合并操作在不同环境间推进</li><li>适合需要严格环境隔离的项目</li></ul><h2 id="四、功能分支实践" tabindex="-1">四、功能分支实践 <a class="header-anchor" href="#四、功能分支实践" aria-label="Permalink to &quot;四、功能分支实践&quot;">​</a></h2><h3 id="_4-1-分支生命周期" tabindex="-1">4.1 分支生命周期 <a class="header-anchor" href="#_4-1-分支生命周期" aria-label="Permalink to &quot;4.1 分支生命周期&quot;">​</a></h3>`,11)),(a(),e(p,null,{default:i(()=>[h(n,{id:"mermaid-912",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20A%5B%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF%5D%20--%3E%20B%5B%E5%BC%80%E5%8F%91%E5%8A%9F%E8%83%BD%5D%0A%20%20%20%20B%20--%3E%20C%5B%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%5D%0A%20%20%20%20C%20--%3E%20D%7B%E5%AE%A1%E6%9F%A5%E9%80%9A%E8%BF%87%3F%7D%0A%20%20%20%20D%20--%3E%7C%E5%90%A6%7C%20B%0A%20%20%20%20D%20--%3E%7C%E6%98%AF%7C%20E%5B%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF%5D%0A%20%20%20%20E%20--%3E%20F%5B%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF%5D%0A"})]),fallback:i(()=>[...s[3]||(s[3]=[l(" Loading... ",-1)])]),_:1})),s[8]||(s[8]=t(`<h3 id="_4-2-创建和开发" tabindex="-1">4.2 创建和开发 <a class="header-anchor" href="#_4-2-创建和开发" aria-label="Permalink to &quot;4.2 创建和开发&quot;">​</a></h3><p><strong>创建分支</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span></code></pre></div><p><strong>开发规范</strong>：</p><ul><li>遵循 <a href="https://blog.mapin.net/posts/Git%20Commit%20%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83%E6%8C%87%E5%8D%97" target="_blank" rel="noreferrer">Git Commit 提交规范</a></li><li>频繁提交，保持提交粒度小</li><li>每个提交都是可工作的</li></ul><p><strong>推送分支</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 首次推送</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 后续推送</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span></span></code></pre></div><h3 id="_4-3-代码审查和合并" tabindex="-1">4.3 代码审查和合并 <a class="header-anchor" href="#_4-3-代码审查和合并" aria-label="Permalink to &quot;4.3 代码审查和合并&quot;">​</a></h3><p><strong>创建 Pull Request</strong>：</p><ul><li>标题清晰描述功能</li><li>详细描述变更内容</li><li>关联相关 issue</li><li>添加审查者</li></ul><p><strong>审查清单</strong>：</p><ul><li>[ ] 代码符合项目规范</li><li>[ ] 通过了所有测试</li><li>[ ] 没有引入新的 bug</li><li>[ ] 文档已更新</li><li>[ ] 提交信息符合规范</li></ul><p><strong>合并方式</strong>：</p><ul><li>优先使用 &quot;Squash and merge&quot; 或 &quot;Rebase and merge&quot;</li><li>避免使用 &quot;Merge commit&quot;（除非必要）</li></ul><p><strong>合并前检查</strong>：</p><ul><li>[ ] 代码审查通过</li><li>[ ] 所有测试通过</li><li>[ ] 没有合并冲突</li><li>[ ] 分支是最新的</li></ul><h3 id="_4-4-最佳实践" tabindex="-1">4.4 最佳实践 <a class="header-anchor" href="#_4-4-最佳实践" aria-label="Permalink to &quot;4.4 最佳实践&quot;">​</a></h3><h4 id="保持分支同步" tabindex="-1">保持分支同步 <a class="header-anchor" href="#保持分支同步" aria-label="Permalink to &quot;保持分支同步&quot;">​</a></h4><p>定期同步主分支，避免冲突累积：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 在功能分支上</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rebase</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin/develop</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或使用 merge</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin/develop</span></span></code></pre></div><p><strong>选择 merge 还是 rebase</strong>：</p><ul><li><strong>merge</strong>：保留完整历史，适合共享分支</li><li><strong>rebase</strong>：线性历史，适合个人分支</li></ul><h4 id="控制分支粒度" tabindex="-1">控制分支粒度 <a class="header-anchor" href="#控制分支粒度" aria-label="Permalink to &quot;控制分支粒度&quot;">​</a></h4><p><strong>原则</strong>：</p><ul><li>一个分支只实现一个功能</li><li>功能应该尽可能小</li><li>避免&quot;大爆炸&quot;式的分支</li></ul><p><strong>示例</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ✅ 好的做法：细粒度分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">feature/user-login</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">feature/user-register</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">feature/user-profile</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ❌ 不好的做法：大粒度分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">feature/user-management</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 包含登录、注册、个人资料等所有功能</span></span></code></pre></div><h4 id="避免长期分支" tabindex="-1">避免长期分支 <a class="header-anchor" href="#避免长期分支" aria-label="Permalink to &quot;避免长期分支&quot;">​</a></h4><p><strong>问题</strong>：</p><ul><li>长期分支容易产生大量冲突</li><li>难以合并和维护</li><li>增加代码审查难度</li></ul><p><strong>解决方案</strong>：</p><ul><li>将大功能拆分为多个小功能</li><li>每个功能分支尽快合并</li><li>定期同步主分支</li></ul><h4 id="多人协作" tabindex="-1">多人协作 <a class="header-anchor" href="#多人协作" aria-label="Permalink to &quot;多人协作&quot;">​</a></h4><p><strong>场景</strong>：多个开发者协作开发同一个功能</p><p><strong>推荐方案</strong>：使用子功能分支</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">feature/user-login</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           # 主功能分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login-ui</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # UI 子功能</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login-api</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # API 子功能</span></span></code></pre></div><p><strong>工作流程</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 开发者 A：开发 UI</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login-ui</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 开发完成后合并到 feature/user-login</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 开发者 B：开发 API</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login-api</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 开发完成后合并到 feature/user-login</span></span></code></pre></div><h3 id="_4-5-删除分支" tabindex="-1">4.5 删除分支 <a class="header-anchor" href="#_4-5-删除分支" aria-label="Permalink to &quot;4.5 删除分支&quot;">​</a></h3><p><strong>本地删除</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user-login</span></span></code></pre></div><p><strong>远程删除</strong>：</p><ul><li>Pull Request 合并后可以自动删除</li><li>或手动删除：<code>git push origin --delete feature/user-login</code></li></ul><h2 id="五、分支保护与自动化" tabindex="-1">五、分支保护与自动化 <a class="header-anchor" href="#五、分支保护与自动化" aria-label="Permalink to &quot;五、分支保护与自动化&quot;">​</a></h2><h3 id="_5-1-分支保护规则" tabindex="-1">5.1 分支保护规则 <a class="header-anchor" href="#_5-1-分支保护规则" aria-label="Permalink to &quot;5.1 分支保护规则&quot;">​</a></h3><p><strong>main/master 分支</strong>：</p><ul><li>✅ 禁止直接推送</li><li>✅ 必须通过 Pull Request 合并</li><li>✅ 必须经过代码审查（至少 1 人）</li><li>✅ 必须通过所有测试</li><li>✅ 禁止强制推送</li><li>✅ 禁止删除分支</li></ul><p><strong>develop 分支</strong>（可选）：</p><ul><li>✅ 禁止直接推送（可选）</li><li>✅ 必须通过 Pull Request 合并（可选）</li><li>✅ 必须通过所有测试</li><li>✅ 禁止强制推送</li></ul><h3 id="_5-2-分支保护配置" tabindex="-1">5.2 分支保护配置 <a class="header-anchor" href="#_5-2-分支保护配置" aria-label="Permalink to &quot;5.2 分支保护配置&quot;">​</a></h3><p><strong>GitHub 配置</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Branch protection rules for main:</span></span>
<span class="line"><span>- Require a pull request before merging</span></span>
<span class="line"><span>  - Require approvals: 1</span></span>
<span class="line"><span>  - Dismiss stale pull request approvals</span></span>
<span class="line"><span>- Require status checks to pass before merging</span></span>
<span class="line"><span>  - Require branches to be up to date before merging</span></span>
<span class="line"><span>- Require conversation resolution before merging</span></span>
<span class="line"><span>- Do not allow bypassing the above settings</span></span></code></pre></div><p><strong>GitLab 配置</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Protected branch: main</span></span>
<span class="line"><span>- Allowed to merge: Maintainers</span></span>
<span class="line"><span>- Allowed to push: (no one)</span></span>
<span class="line"><span>- Allowed to force push: No</span></span></code></pre></div><h3 id="_5-3-分支命名检查" tabindex="-1">5.3 分支命名检查 <a class="header-anchor" href="#_5-3-分支命名检查" aria-label="Permalink to &quot;5.3 分支命名检查&quot;">​</a></h3><h4 id="git-hooks" tabindex="-1">Git Hooks <a class="header-anchor" href="#git-hooks" aria-label="Permalink to &quot;Git Hooks&quot;">​</a></h4><p><strong>pre-push hook 示例</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .git/hooks/pre-push</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">branch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> symbolic-ref</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --short</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HEAD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 检查分支命名</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $branch </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ^(main</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">develop</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">feature</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bugfix</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hotfix</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">release</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">refactor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chore)/ ]]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;❌ 分支命名不符合规范：</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$branch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;分支应该以以下前缀开头：&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;  - feature/&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;  - bugfix/&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;  - hotfix/&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;  - release/&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;  - refactor/&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;  - docs/&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;  - chore/&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    exit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span></code></pre></div><h4 id="ci-cd-检查" tabindex="-1">CI/CD 检查 <a class="header-anchor" href="#ci-cd-检查" aria-label="Permalink to &quot;CI/CD 检查&quot;">​</a></h4><p>在 CI/CD 流程中添加分支命名检查：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># GitHub Actions 示例</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">- </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Check branch name</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    if [[ ! &quot;\${{ github.ref_name }}&quot; =~ ^(main|develop|feature|bugfix|hotfix|release|refactor|docs|chore)/ ]]; then</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      echo &quot;分支命名不符合规范&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      exit 1</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    fi</span></span></code></pre></div><h2 id="六、常见问题" tabindex="-1">六、常见问题 <a class="header-anchor" href="#六、常见问题" aria-label="Permalink to &quot;六、常见问题&quot;">​</a></h2><h3 id="q1-如何重命名分支" tabindex="-1">Q1: 如何重命名分支？ <a class="header-anchor" href="#q1-如何重命名分支" aria-label="Permalink to &quot;Q1: 如何重命名分支？&quot;">​</a></h3><p><strong>A:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重命名本地分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> old-name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> new-name</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除远程旧分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> old-name</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 推送新分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> new-name</span></span></code></pre></div><h3 id="q2-如何合并多个功能分支" tabindex="-1">Q2: 如何合并多个功能分支？ <a class="header-anchor" href="#q2-如何合并多个功能分支" aria-label="Permalink to &quot;Q2: 如何合并多个功能分支？&quot;">​</a></h3><p><strong>A:</strong> 按顺序合并到 develop：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/feature-1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/feature-2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/feature-3</span></span></code></pre></div><h3 id="q3-功能分支可以合并到-main-吗" tabindex="-1">Q3: 功能分支可以合并到 main 吗？ <a class="header-anchor" href="#q3-功能分支可以合并到-main-吗" aria-label="Permalink to &quot;Q3: 功能分支可以合并到 main 吗？&quot;">​</a></h3><p><strong>A:</strong></p><ul><li><strong>GitHub Flow</strong>：可以，功能分支直接合并到 <code>main</code></li><li><strong>Git Flow</strong>：不推荐，应该先合并到 <code>develop</code>，经过测试后再通过 <code>release</code> 分支合并到 <code>main</code></li></ul><h3 id="q4-如何回滚分支合并" tabindex="-1">Q4: 如何回滚分支合并？ <a class="header-anchor" href="#q4-如何回滚分支合并" aria-label="Permalink to &quot;Q4: 如何回滚分支合并？&quot;">​</a></h3><p><strong>A:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用 revert（推荐，保留历史）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> revert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">merge-commit-has</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或使用 reset（谨慎使用，会改写历史）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reset</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --hard</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">commit-before-merg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><h3 id="q5-如何处理长期未合并的分支" tabindex="-1">Q5: 如何处理长期未合并的分支？ <a class="header-anchor" href="#q5-如何处理长期未合并的分支" aria-label="Permalink to &quot;Q5: 如何处理长期未合并的分支？&quot;">​</a></h3><p><strong>A:</strong></p><ol><li>检查分支是否还有用</li><li>如果没用，删除分支</li><li>如果还有用，尽快合并或拆分为多个小分支</li></ol><h3 id="q6-merge-和-rebase-有什么区别-什么时候用哪个" tabindex="-1">Q6: merge 和 rebase 有什么区别？什么时候用哪个？ <a class="header-anchor" href="#q6-merge-和-rebase-有什么区别-什么时候用哪个" aria-label="Permalink to &quot;Q6: merge 和 rebase 有什么区别？什么时候用哪个？&quot;">​</a></h3><p><strong>A:</strong></p><ul><li><strong>merge</strong>：保留完整历史，创建合并提交，适合共享分支</li><li><strong>rebase</strong>：线性历史，不创建合并提交，适合个人分支</li></ul><p><strong>建议</strong>：</p><ul><li>个人功能分支：使用 rebase 保持历史清晰</li><li>共享分支：使用 merge 保留完整历史</li></ul><h3 id="q7-如何处理合并冲突" tabindex="-1">Q7: 如何处理合并冲突？ <a class="header-anchor" href="#q7-如何处理合并冲突" aria-label="Permalink to &quot;Q7: 如何处理合并冲突？&quot;">​</a></h3><p><strong>A:</strong></p><ol><li>先同步主分支：<code>git fetch origin &amp;&amp; git rebase origin/develop</code></li><li>解决冲突：编辑冲突文件，选择保留的代码</li><li>标记已解决：<code>git add &lt;冲突文件&gt;</code></li><li>继续 rebase：<code>git rebase --continue</code></li></ol><h3 id="q8-如何查看分支关系" tabindex="-1">Q8: 如何查看分支关系？ <a class="header-anchor" href="#q8-如何查看分支关系" aria-label="Permalink to &quot;Q8: 如何查看分支关系？&quot;">​</a></h3><p><strong>A:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看分支树</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --oneline</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --graph</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看分支列表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看远程分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span></span></code></pre></div><h3 id="q9-如何清理已合并的分支" tabindex="-1">Q9: 如何清理已合并的分支？ <a class="header-anchor" href="#q9-如何清理已合并的分支" aria-label="Permalink to &quot;Q9: 如何清理已合并的分支？&quot;">​</a></h3><p><strong>A:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除本地已合并的分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --merged</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;develop\\|main&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除远程已合并的分支（需要先 fetch）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --prune</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --merged</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;develop\\|main&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s/origin\\///&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -I</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {}</span></span></code></pre></div><h3 id="q10-如何同步-fork-的分支" tabindex="-1">Q10: 如何同步 fork 的分支？ <a class="header-anchor" href="#q10-如何同步-fork-的分支" aria-label="Permalink to &quot;Q10: 如何同步 fork 的分支？&quot;">​</a></h3><p><strong>A:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加上游仓库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upstream</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">上游仓库UR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">L</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取上游更新</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upstream</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 合并上游分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upstream/develop</span></span></code></pre></div><h2 id="七、总结" tabindex="-1">七、总结 <a class="header-anchor" href="#七、总结" aria-label="Permalink to &quot;七、总结&quot;">​</a></h2><h3 id="核心原则" tabindex="-1">核心原则 <a class="header-anchor" href="#核心原则" aria-label="Permalink to &quot;核心原则&quot;">​</a></h3><ol><li><strong>清晰性</strong>：分支命名应该清晰描述用途</li><li><strong>一致性</strong>：团队统一使用相同的分支策略</li><li><strong>隔离性</strong>：不同功能在不同分支开发</li><li><strong>可追溯性</strong>：分支应该可以追溯到 issue 或需求</li></ol><h3 id="关键要点" tabindex="-1">关键要点 <a class="header-anchor" href="#关键要点" aria-label="Permalink to &quot;关键要点&quot;">​</a></h3><ul><li>使用标准的分支类型（feature、bugfix、hotfix 等）</li><li>遵循命名规范（kebab-case，包含描述）</li><li>选择合适的分支策略（Git Flow、GitHub Flow 等）</li><li>保护主分支，必须通过 Pull Request 合并</li><li>及时删除已完成的分支</li><li>保持分支同步，避免长期分支</li></ul><h3 id="参考资源" tabindex="-1">参考资源 <a class="header-anchor" href="#参考资源" aria-label="Permalink to &quot;参考资源&quot;">​</a></h3><ul><li><a href="https://nvie.com/posts/a-successful-git-branching-model/" target="_blank" rel="noreferrer">Git Flow</a> - Git Flow 分支模型</li><li><a href="https://guides.github.com/introduction/flow/" target="_blank" rel="noreferrer">GitHub Flow</a> - GitHub Flow 工作流</li><li><a href="https://docs.gitlab.com/ee/topics/gitlab_flow.html" target="_blank" rel="noreferrer">GitLab Flow</a> - GitLab Flow 工作流</li><li><a href="https://www.atlassian.com/git/tutorials/comparing-workflows" target="_blank" rel="noreferrer">Git Branching Strategies</a> - 分支策略对比</li></ul><hr><p>遵循统一的分支管理规范，可以显著提升团队协作效率和代码质量。建议在项目初期就建立规范，并根据项目特点选择合适的分支策略。</p>`,103))])}const B=r(o,[["render",g]]);export{b as __pageData,B as default};
