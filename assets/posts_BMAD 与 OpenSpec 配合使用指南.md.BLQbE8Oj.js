import{_ as h,C as p,c,o,a0 as n,b as i,j as e,w as a,a as r,G as s,a2 as l}from"./chunks/framework.DXI-tbPr.js";const y=JSON.parse('{"title":"BMAD 与 OpenSpec 配合使用指南","description":"规划层与实现层的组合使用——BMAD 做产品规划与 Story 拆解，OpenSpec 做变更级实现与审计","frontmatter":{"title":"BMAD 与 OpenSpec 配合使用指南","description":"规划层与实现层的组合使用——BMAD 做产品规划与 Story 拆解，OpenSpec 做变更级实现与审计","date":"2026-02-27T15:21:00.000Z","tags":["AI工具","工程化"]},"headers":[],"relativePath":"posts/BMAD 与 OpenSpec 配合使用指南.md","filePath":"posts/BMAD 与 OpenSpec 配合使用指南.md","lastUpdated":1772177906000}'),A={name:"posts/BMAD 与 OpenSpec 配合使用指南.md"};function u(B,t,b,S,E,g){const d=p("Mermaid");return o(),c("div",null,[t[2]||(t[2]=n('<blockquote><p>前置阅读</p><ul><li><a href="/posts/BMAD 使用指南 - AI 驱动敏捷开发框架">BMAD 使用指南</a></li><li><a href="/posts/OpenSpec 使用指南">OpenSpec 使用指南</a></li></ul></blockquote><h1 id="bmad-与-openspec-配合使用指南" tabindex="-1">BMAD 与 OpenSpec 配合使用指南 <a class="header-anchor" href="#bmad-与-openspec-配合使用指南" aria-label="Permalink to &quot;BMAD 与 OpenSpec 配合使用指南&quot;">​</a></h1><h2 id="_1-引言-为何需要-bmad-与-openspec-配合" tabindex="-1">1. 引言：为何需要 BMAD 与 OpenSpec 配合 <a class="header-anchor" href="#_1-引言-为何需要-bmad-与-openspec-配合" aria-label="Permalink to &quot;1. 引言：为何需要 BMAD 与 OpenSpec 配合&quot;">​</a></h2><h3 id="痛点" tabindex="-1">痛点 <a class="header-anchor" href="#痛点" aria-label="Permalink to &quot;痛点&quot;">​</a></h3><ul><li><strong>纯 BMAD</strong>：规划到 Story 后，<code>dev-story</code> 直接产出代码，实现与 Story 之间缺少细粒度的 proposal、design、tasks，审计粒度粗，难以逐变更追溯。</li><li><strong>纯 OpenSpec</strong>：擅长单次变更的规格与实现闭环，但缺少 PRD、architecture、Epic/Story 等产品级规划，0-1 或复杂产品时规划和拆分不足。</li></ul><h3 id="组合价值" tabindex="-1">组合价值 <a class="header-anchor" href="#组合价值" aria-label="Permalink to &quot;组合价值&quot;">​</a></h3><p>将 BMAD 作为<strong>规划层</strong>，OpenSpec 作为<strong>实现层</strong>，形成「产品规划 → Story 拆解 → 变更级规格 → 实现 → 归档」的完整链路。规划有 PRD/架构，实现有 proposal/design/tasks，可追溯、可审计。</p><h3 id="适用场景" tabindex="-1">适用场景 <a class="header-anchor" href="#适用场景" aria-label="Permalink to &quot;适用场景&quot;">​</a></h3><ul><li>多人协作、需要评审与审计</li><li>产品/平台级项目，既要有 PRD/架构，又要实现可追溯</li><li>合规或治理要求较高的团队</li></ul><hr><h2 id="_2-两者定位与互补性" tabindex="-1">2. 两者定位与互补性 <a class="header-anchor" href="#_2-两者定位与互补性" aria-label="Permalink to &quot;2. 两者定位与互补性&quot;">​</a></h2><table tabindex="0"><thead><tr><th>维度</th><th>BMAD</th><th>OpenSpec</th></tr></thead><tbody><tr><td><strong>定位</strong></td><td>产品级规划与 Story 拆解</td><td>变更级规格、实现与归档</td></tr><tr><td><strong>原子单位</strong></td><td>Epic、Story</td><td>Change（变更）</td></tr><tr><td><strong>产出</strong></td><td>PRD、architecture、epics、project-context</td><td>proposal、specs、design、tasks</td></tr><tr><td><strong>实现节奏</strong></td><td>Sprint、逐 Story</td><td>按需新建变更、apply、archive</td></tr></tbody></table><p>互补关系：BMAD 不做 per-change 的 proposal/design/tasks；OpenSpec 不做 PRD/架构/Epic。两者在 <strong>Story ↔ Change</strong> 衔接。</p>',13)),(o(),i(l,null,{default:a(()=>[s(d,{id:"mermaid-132",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20subgraph%20BMAD%20%5BBMAD%5D%0A%20%20%20%20%20%20%20%20A%5BPRD%5D%0A%20%20%20%20%20%20%20%20B%5B%E6%9E%B6%E6%9E%84%5D%0A%20%20%20%20%20%20%20%20C%5BEpics%20%2F%20Stories%5D%0A%20%20%20%20end%0A%20%20%20%20subgraph%20OpenSpec%20%5BOpenSpec%5D%0A%20%20%20%20%20%20%20%20D%5Bproposal%20%2F%20design%20%2F%20tasks%5D%0A%20%20%20%20%20%20%20%20E%5B%E5%AE%9E%E7%8E%B0%20%2F%20verify%20%2F%20archive%5D%0A%20%20%20%20end%0A%20%20%20%20C%20--%3E%20D%0A%20%20%20%20A%20--%3E%20B%20--%3E%20C%0A%20%20%20%20D%20--%3E%20E%0A"})]),fallback:a(()=>[...t[0]||(t[0]=[r(" Loading... ",-1)])]),_:1})),t[3]||(t[3]=e("hr",null,null,-1)),t[4]||(t[4]=e("h2",{id:"_3-协作链路设计",tabindex:"-1"},[r("3. 协作链路设计 "),e("a",{class:"header-anchor",href:"#_3-协作链路设计","aria-label":'Permalink to "3. 协作链路设计"'},"​")],-1)),t[5]||(t[5]=e("h3",{id:"整体流程",tabindex:"-1"},[r("整体流程 "),e("a",{class:"header-anchor",href:"#整体流程","aria-label":'Permalink to "整体流程"'},"​")],-1)),(o(),i(l,null,{default:a(()=>[s(d,{id:"mermaid-140",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20subgraph%20BMAD%20%5BBMAD%20%E8%A7%84%E5%88%92%E5%B1%82%5D%0A%20%20%20%20%20%20%20%20A1%5Bproduct-brief%5D%20--%3E%20A2%5BPRD%5D%0A%20%20%20%20%20%20%20%20A2%20--%3E%20A3%5Barchitecture%5D%0A%20%20%20%20%20%20%20%20A3%20--%3E%20A4%5Bepics%20%26%20stories%5D%0A%20%20%20%20%20%20%20%20A4%20--%3E%20A5%5B%E5%B0%B1%E7%BB%AA%E6%A3%80%E6%9F%A5%5D%0A%20%20%20%20%20%20%20%20A5%20--%3E%20A6%5BSprint%20%E8%A7%84%E5%88%92%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Handoff%20%5B%E8%A1%94%E6%8E%A5%E5%B1%82%5D%0A%20%20%20%20%20%20%20%20A6%20--%3E%20B1%7B%E6%AF%8F%E4%B8%AA%20Story%7D%0A%20%20%20%20%20%20%20%20B1%20--%3E%20B2%7B%E7%B2%92%E5%BA%A6%E5%88%A4%E6%96%AD%7D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20OpenSpec%20%5BOpenSpec%20%E5%AE%9E%E7%8E%B0%E5%B1%82%5D%0A%20%20%20%20%20%20%20%20B2%20--%3E%7C%E5%B0%8F%20Story%7C%20C1%5B%E7%9B%B4%E6%8E%A5%20BMAD%20dev-story%5D%0A%20%20%20%20%20%20%20%20B2%20--%3E%7C%E5%A4%A7%2F%E9%9C%80%E5%AE%A1%E8%AE%A1%20Story%7C%20C2%5Bnew%20OpenSpec%20change%5D%0A%20%20%20%20%20%20%20%20C2%20--%3E%20C3%5Bproposal%20%E2%86%90%20Story%5D%0A%20%20%20%20%20%20%20%20C3%20--%3E%20C4%5Bdesign%20%E2%86%90%20architecture%20%E7%89%87%E6%AE%B5%5D%0A%20%20%20%20%20%20%20%20C4%20--%3E%20C5%5Btasks%20%E2%86%90%20AC%20%E6%8B%86%E5%88%86%5D%0A%20%20%20%20%20%20%20%20C5%20--%3E%20C6%5Bapply%20%E5%AE%9E%E7%8E%B0%5D%0A%20%20%20%20%20%20%20%20C6%20--%3E%20C7%5Bverify%5D%0A%20%20%20%20%20%20%20%20C7%20--%3E%20C8%5Barchive%5D%0A%20%20%20%20end%0A%0A%20%20%20%20C8%20--%3E%20D%5B%E4%B8%BB%20specs%20%E6%9B%B4%E6%96%B0%5D%0A%20%20%20%20C1%20--%3E%20E%5B%E4%BB%A3%E7%A0%81%E4%BA%A7%E5%87%BA%5D%0A%20%20%20%20C6%20--%3E%20E%0A"})]),fallback:a(()=>[...t[1]||(t[1]=[r(" Loading... ",-1)])]),_:1})),t[6]||(t[6]=n('<h3 id="各阶段产出与依赖" tabindex="-1">各阶段产出与依赖 <a class="header-anchor" href="#各阶段产出与依赖" aria-label="Permalink to &quot;各阶段产出与依赖&quot;">​</a></h3><table tabindex="0"><thead><tr><th>阶段</th><th>产出</th><th>依赖</th></tr></thead><tbody><tr><td>BMAD 规划</td><td>PRD、architecture、epics、project-context</td><td>想法、需求</td></tr><tr><td>衔接</td><td>Story 列表</td><td>PRD、architecture</td></tr><tr><td>OpenSpec</td><td>proposal、design、tasks</td><td>Story、architecture 片段</td></tr><tr><td>实现</td><td>代码</td><td>tasks</td></tr><tr><td>归档</td><td>主 specs 更新、archive</td><td>verify 通过</td></tr></tbody></table><h3 id="决策点" tabindex="-1">决策点 <a class="header-anchor" href="#决策点" aria-label="Permalink to &quot;决策点&quot;">​</a></h3><ul><li><strong>何时用 OpenSpec</strong>：Story 较大（多组件、多文件）或需要单独 proposal/design/tasks 审计时。</li><li><strong>何时直接用 dev-story</strong>：Story 小（1–3 个文件、1–2 小时）时，可跳过 OpenSpec。</li></ul><hr><h2 id="_4-衔接层-story-→-openspec-change" tabindex="-1">4. 衔接层：Story → OpenSpec Change <a class="header-anchor" href="#_4-衔接层-story-→-openspec-change" aria-label="Permalink to &quot;4. 衔接层：Story → OpenSpec Change&quot;">​</a></h2><h3 id="映射关系" tabindex="-1">映射关系 <a class="header-anchor" href="#映射关系" aria-label="Permalink to &quot;映射关系&quot;">​</a></h3><table tabindex="0"><thead><tr><th>BMAD Story</th><th>OpenSpec 产物</th></tr></thead><tbody><tr><td>Story 描述 + AC</td><td>proposal</td></tr><tr><td>相关 architecture 片段</td><td>design</td></tr><tr><td>AC 拆分出的任务</td><td>tasks</td></tr><tr><td>Story 涉及的需求变更</td><td>specs delta</td></tr></tbody></table><h3 id="proposal-如何承接-story" tabindex="-1">proposal 如何承接 Story <a class="header-anchor" href="#proposal-如何承接-story" aria-label="Permalink to &quot;proposal 如何承接 Story&quot;">​</a></h3><ul><li>以 Story 描述为主体，说明目标与范围</li><li>补充 acceptance criteria</li><li>可选：简要 PRD 背景、所属 Epic 名称</li></ul><h3 id="design-如何从-architecture-抽取" tabindex="-1">design 如何从 architecture 抽取 <a class="header-anchor" href="#design-如何从-architecture-抽取" aria-label="Permalink to &quot;design 如何从 architecture 抽取&quot;">​</a></h3><ul><li>只写与本 Story 相关的架构片段（目录、API、数据流等）</li><li>不复制整份 architecture</li><li>如有新增或调整，在 design 中明确说明</li></ul><h3 id="tasks-如何从-ac-拆分" tabindex="-1">tasks 如何从 AC 拆分 <a class="header-anchor" href="#tasks-如何从-ac-拆分" aria-label="Permalink to &quot;tasks 如何从 AC 拆分&quot;">​</a></h3><ul><li>按 acceptance criteria 拆成可执行任务</li><li>单任务建议 0.5–2 小时</li><li>按可交付物拆分，便于验收</li></ul><hr><h2 id="_5-上下文与配置一致性" tabindex="-1">5. 上下文与配置一致性 <a class="header-anchor" href="#_5-上下文与配置一致性" aria-label="Permalink to &quot;5. 上下文与配置一致性&quot;">​</a></h2><table tabindex="0"><thead><tr><th>来源</th><th>作用</th><th>维护</th></tr></thead><tbody><tr><td>BMAD project-context</td><td>dev-story、code-review 加载</td><td><code>generate-project-context</code> 或手动</td></tr><tr><td>OpenSpec config.yaml</td><td>proposal/design/tasks 生成时注入</td><td>手动</td></tr></tbody></table><p><strong>建议</strong>：以 BMAD 的 project-context 为准，将核心约定（技术栈、目录、编码规范）同步到 <code>openspec/config.yaml</code> 的 <code>context</code>，保持两套上下文一致。</p><hr><h2 id="_6-实践要点" tabindex="-1">6. 实践要点 <a class="header-anchor" href="#_6-实践要点" aria-label="Permalink to &quot;6. 实践要点&quot;">​</a></h2><h3 id="story-粒度判断" tabindex="-1">Story 粒度判断 <a class="header-anchor" href="#story-粒度判断" aria-label="Permalink to &quot;Story 粒度判断&quot;">​</a></h3><table tabindex="0"><thead><tr><th>情况</th><th>建议</th></tr></thead><tbody><tr><td>小 Story（1–3 文件、1–2 小时）</td><td>直接用 BMAD dev-story</td></tr><tr><td>大 Story（多组件、多文件、需评审）</td><td>转为 OpenSpec Change</td></tr><tr><td>需更新主 spec</td><td>用 OpenSpec（archive 时 delta 合并）</td></tr><tr><td>跨 Epic 横切变更</td><td>用 OpenSpec（以变更为单位更清晰）</td></tr></tbody></table><h3 id="对话与命名策略" tabindex="-1">对话与命名策略 <a class="header-anchor" href="#对话与命名策略" aria-label="Permalink to &quot;对话与命名策略&quot;">​</a></h3><ul><li>每个 Story 或 OpenSpec Change 建议<strong>新开对话</strong>，避免上下文过长</li><li>OpenSpec 的 change 名可与 Story ID 对应，如 <code>story-auth-001</code>，便于追溯</li></ul><hr><h2 id="_7-边界情况与应对" tabindex="-1">7. 边界情况与应对 <a class="header-anchor" href="#_7-边界情况与应对" aria-label="Permalink to &quot;7. 边界情况与应对&quot;">​</a></h2><h3 id="scope-creep" tabindex="-1">Scope creep <a class="header-anchor" href="#scope-creep" aria-label="Permalink to &quot;Scope creep&quot;">​</a></h3><p>实现中 scope 扩大：回到 BMAD，更新 PRD 或 Story，再开新 OpenSpec Change，或拆成多个 Change 分别实现。</p><h3 id="多-story-合并为一个-change" tabindex="-1">多 Story 合并为一个 Change <a class="header-anchor" href="#多-story-合并为一个-change" aria-label="Permalink to &quot;多 Story 合并为一个 Change&quot;">​</a></h3><p>若干小 Story 涉及同一组文件时，可合并为一个 OpenSpec Change，在 proposal 中写明对应多个 Story ID。</p><h3 id="架构在实现中需调整" tabindex="-1">架构在实现中需调整 <a class="header-anchor" href="#架构在实现中需调整" aria-label="Permalink to &quot;架构在实现中需调整&quot;">​</a></h3><p>先更新 BMAD 的 architecture，再在 OpenSpec 的 design 中说明本次变更对架构的修正，保证文档一致。</p><hr><h2 id="_8-纯-bmad-纯-openspec-组合-对比" tabindex="-1">8. 纯 BMAD / 纯 OpenSpec / 组合 对比 <a class="header-anchor" href="#_8-纯-bmad-纯-openspec-组合-对比" aria-label="Permalink to &quot;8. 纯 BMAD / 纯 OpenSpec / 组合 对比&quot;">​</a></h2><table tabindex="0"><thead><tr><th>维度</th><th>纯 BMAD</th><th>纯 OpenSpec</th><th>BMAD + OpenSpec</th></tr></thead><tbody><tr><td><strong>规划深度</strong></td><td>PRD、架构、Epics 完整</td><td>无产品级规划，只有 proposal/design</td><td>两者都有</td></tr><tr><td><strong>实现审计</strong></td><td>粗（Story → 代码）</td><td>细（proposal/design/tasks → 代码）</td><td>细（Story → Change → 代码）</td></tr><tr><td><strong>上手成本</strong></td><td>中</td><td>低</td><td>高</td></tr><tr><td><strong>适用</strong></td><td>产品/平台、需 Sprint 节奏</td><td>单点变更、快速迭代</td><td>复杂产品、需审计与追溯</td></tr><tr><td><strong>心智负担</strong></td><td>一套流程</td><td>一套流程</td><td>两套流程，需衔接</td></tr></tbody></table><p><strong>取舍</strong>：</p><ul><li><strong>纯 BMAD</strong>：简单，但实现与 Story 之间审计粒度粗</li><li><strong>纯 OpenSpec</strong>：轻量，但 0-1 或复杂产品缺少产品级规划</li><li><strong>组合</strong>：规划严谨、审计细，适合对可追溯性要求高的场景</li></ul><hr><h2 id="_9-总结与建议" tabindex="-1">9. 总结与建议 <a class="header-anchor" href="#_9-总结与建议" aria-label="Permalink to &quot;9. 总结与建议&quot;">​</a></h2><h3 id="适用人群" tabindex="-1">适用人群 <a class="header-anchor" href="#适用人群" aria-label="Permalink to &quot;适用人群&quot;">​</a></h3><ul><li>多人协作、需要评审与审计</li><li>产品/平台级项目</li><li>对实现可追溯性有明确要求</li></ul><h3 id="起步建议" tabindex="-1">起步建议 <a class="header-anchor" href="#起步建议" aria-label="Permalink to &quot;起步建议&quot;">​</a></h3><ol><li>先按 BMAD 走通一条 Epic（PRD → 架构 → Epics → Stories）</li><li>选 1–2 个大 Story 试点 OpenSpec 衔接</li><li>确认 project-context 与 config.yaml 的 context 已对齐</li></ol><h3 id="延伸" tabindex="-1">延伸 <a class="header-anchor" href="#延伸" aria-label="Permalink to &quot;延伸&quot;">​</a></h3><p>社区中有类似 <code>main-workflow-router</code> 的思路：根据复杂度自动路由（简单 → OpenSpec，复杂 → BMAD），可作为进阶探索方向。</p>',45))])}const m=h(A,[["render",u]]);export{y as __pageData,m as default};
